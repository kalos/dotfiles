# Load only distro-specific scripts and configs
.chezmoiscripts/os/**

{{ if eq .chezmoi.osRelease.id "arch" }}
!.chezmoiscripts/os/arch/**

.packages*
!.packages.arch
{{ end }}

{{ if eq .chezmoi.osRelease.id "debian" }}
!.chezmoiscripts/os/debian/**

.packages*
!.packages.debian
{{ end }}


# Load only host-specific scripts
.chezmoiscripts/hosts/**

{{ if eq .chezmoi.hostname "jiji" }}
!.chezmoiscripts/hosts/jiji/**

{{   if .ssh }}
.ssh/conf.local.d/**
!.ssh/conf.local.d/jiji.conf
{{   end }}

{{ end }}


# ignore personal file (with module personal = false)
{{ if not .personal }}
.chezmoiscripts/*decrypt-chezmoi-age-key.sh
.config/git/config_*
{{ end }}



# ignore specific "module"

{{ if (or (not .ssh) (not .personal)) }}
.ssh/**
{{ end }}

{{ if not .emoji }}
.emoji_db
.config/systemd/user/emoji.service
.chezmoiscripts/*emoji_service.sh
{{ end }}

{{ if not .starship }}
.config/starship*.toml
.chezmoiscripts/os/debian/*starship.sh
{{ end }}
