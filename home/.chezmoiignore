# Load only distro-specific scripts and configs
.chezmoiscripts/01_os/**

{{ if eq .chezmoi.osRelease.id "arch" }}
!.chezmoiscripts/01_os/arch/**

.packages*
!.packages.arch
{{ end }}

{{ if eq .chezmoi.osRelease.id "debian" }}
!.chezmoiscripts/01_os/debian/**

.packages*
!.packages.debian
{{ end }}


# Load only host-specific scripts
.chezmoiscripts/02_hosts/**

{{ if eq .chezmoi.hostname "jiji" }}
!.chezmoiscripts/02_hosts/jiji/**

{{   if .ssh }}
.ssh/conf.local.d/**
!.ssh/conf.local.d/jiji.conf
{{   end }}

{{ else if eq .chezmoi.hostname "mijiji" }}
!.chezmoiscripts/02_hosts/jiji/**

{{   if .ssh }}
.ssh/conf.local.d/**
!.ssh/conf.local.d/mijiji.conf
{{   end }}

{{ end }}


# ignore personal file (with module personal = false)
{{ if not .personal }}
.chezmoiscripts/00_init/*decrypt-chezmoi-age-key.sh
.config/git/config_*
{{ end }}



# ignore specific "module"

{{ if (or (not .ssh) (not .personal)) }}
.ssh/**
{{ end }}

{{ if not .syncthing }}
.chezmoiscripts/03_general/*syncthing.sh
{{ end }}

{{ if not .emoji }}
.emoji_db
.config/systemd/user/emoji.service
.chezmoiscripts/03_general/*emoji_service.sh
{{ end }}

{{ if not .starship }}
.config/starship*.toml
.chezmoiscripts/01_os/debian/*starship.sh
{{ end }}
